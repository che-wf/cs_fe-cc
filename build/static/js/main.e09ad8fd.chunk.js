(this["webpackJsonpcharter-spectrum_fe-code-challenge"]=this["webpackJsonpcharter-spectrum_fe-code-challenge"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),u=n.n(c),a=n(5),s=n.n(a),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,u=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),u(e),a(e)}))},i=(n(12),n(2)),l=n(4),f=n.n(l),j=n(6);function d(){var e=function(){var e=new Headers;return e.append("Authorization","Api-Key q3MNxtfep8Gt"),e}();return fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{method:"GET",headers:e,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return e}))}var h=!0;function b(){var e=Object(c.useState)({key:"name",order:h}),t=Object(i.a)(e,2);return{sort:t[0],setSort:t[1]}}function O(e,t){return e.sort((function(e,n){var r=e[t.key],c=n[t.key];return t.order===h?r<c?-1:r>c?1:0:r>c?-1:r<c?1:0}))}function p(){var e=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(c.useLayoutEffect)((function(){function e(){return(e=Object(j.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n}(),t=Object(c.useState)([]),n=Object(i.a)(t,2),r=n[0],u=n[1],a=b().sort;return Object(c.useEffect)((function(){u(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return O(e,t)}(e,a))}),[e,a]),console.info(r),{restaurants:r,setRestaurants:u}}function v(){var e=p(),t=e.restaurants,n=e.setRestaurants,r=b().sort;(function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),n=t[0],r=t[1];return{isFiltering:n,setIsFiltering:r}})().isFiltering,function(){var e=Object(c.useState)(),t=Object(i.a)(e,2);return{search:t[0],setSearch:t[1]}}().search;Object(c.useEffect)((function(){n(t,r)}))}n(14);function x(e){var t=e.children,n=e.onClick,c=e.cellKey,u=e.className;return Object(r.jsx)("td",{className:"Cell ".concat(null!==u&&void 0!==u?u:""),onClick:n,children:t},null!==c&&void 0!==c?c:"")}n(15);function g(e){var t=e.columns,n=e.data,u=function(e,t){var n=Object(c.useMemo)((function(){return e.map((function(e,n){return Object(r.jsx)(m,{column:e,index:n,refresh:t},"header-cell-".concat(n))}))}),[e,t]);return Object(r.jsx)("tr",{children:n})}(t,e.refresh),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(c.useMemo)((function(){return e.map((function(e,n){return Object(r.jsx)("tr",{children:t.map((function(t){var c,u=null!==(c=t.render)&&void 0!==c?c:function(e){return e};return Object(r.jsx)(x,{cellKey:"".concat(e.id,"-").concat(t.slug,"-cell-").concat(n),children:u(e[t.slug])})}))},"".concat(e.id,"-row"))}))}),[e,t]);if(!Boolean(e.length))return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{colSpan:t.length,children:"There are currently no results."})});return n}(n,t);return Object(r.jsxs)("table",{className:"Table",children:[Object(r.jsx)("thead",{children:u}),Object(r.jsx)("tbody",{children:a})]})}function m(e){var t=e.column,n=e.index,c=e.refresh,u=b(),a=u.sort,s=u.setSort;return Object(r.jsx)(x,{className:"Header",cellKey:"".concat(t.title,"-header-").concat(n),onClick:function(){s({key:t.slug,order:a.key===t.slug?!a.order:h}),c()},children:t.title})}n(16);function y(){var e=p().restaurants,t=Object(c.useMemo)((function(){return[{title:"Name",slug:"name"},{title:"City",slug:"city"},{title:"State",slug:"state"},S(),{title:"Genres",slug:"genre",render:function(e){return e.split(",").sort().join(", ")}}]}),[]);return Object(r.jsx)("div",{className:"RestaurantTable",children:Object(r.jsx)(g,{columns:t,data:e,refresh:v})})}function S(){return{title:"Phone",slug:"telephone",render:function(e){return Object(r.jsx)("a",{href:"tel:".concat(k(e)),children:e})}}}function k(e){return e.replace("(","").replace(")","").replace(" ","").replace("-","").replace(/^/,"+1")}n(17);function N(){return Object(r.jsxs)("div",{className:"SearchBar",children:[Object(r.jsx)("input",{type:"text"})," ",Object(r.jsx)("button",{children:"Search"})]})}function C(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(N,{}),Object(r.jsx)(y,{})]})}n(18);s.a.render(Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root")),o()}],[[19,1,2]]]);
//# sourceMappingURL=main.e09ad8fd.chunk.js.map